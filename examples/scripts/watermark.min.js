!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.watermark=t():n.watermark=t()}(window,function(){return r={},o.m=e=[function(n,t,e){n.exports=e(1).default},function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"atPos",function(){return s}),e.d(r,"lowerRight",function(){return g}),e.d(r,"upperRight",function(){return v}),e.d(r,"lowerLeft",function(){return y}),e.d(r,"upperLeft",function(){return w}),e.d(r,"center",function(){return m});var o={};function c(n){return n}function f(n){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,t){for(var e,r=[],o=0;o<n.length;o++){var u=n[o],i=("string"===f(e=u)?a:e instanceof Image?c:l)(u,t);r.push(i)}return Promise.all(r)}function a(t,n){var e=new Image;return"function"==typeof n&&n(e),new Promise(function(n){e.onload=function(){return n(e)},e.src=t})}function l(e){var r=new FileReader;return new Promise(function(n){var t=new Image;r.onloadend=function(){return function(n,t,e){n.onload=function(){return e(n)},n.src=t}(t,r.result,n)},r.readAsDataURL(e)})}function i(n,t){var e=new Image;return"function"==typeof t&&(e.onload=t),e.src=n,e}function d(n,t){return function(n,t){var e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),t}(n,t.pop())}e.r(o),e.d(o,"atPos",function(){return b}),e.d(o,"lowerRight",function(){return x}),e.d(o,"lowerLeft",function(){return O}),e.d(o,"upperRight",function(){return S}),e.d(o,"upperLeft",function(){return j}),e.d(o,"center",function(){return P});var h=/^data:([^;]+);base64,(.*)$/;var p=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.reduce(function(n,t){return t.call(null,n)},n)}}(function(n){return h.exec(n).slice(1)},function(n){return[function(n){return window.atob(n)}(n[1]),n[0]]},function(n){return new Blob([function(n){for(var t=n.length,e=new Uint8Array(t),r=0;r<t;r++)e[r]=n.charCodeAt(r);return e}(n[0])],{type:n[1]})});function s(r,o,u){return u=u||1,function(n,t){var e=n.getContext("2d");return e.save(),e.globalAlpha=u,e.drawImage(t,r(n,t),o(n,t)),e.restore(),n}}function g(n){return s(function(n,t){return n.width-(t.width+10)},function(n,t){return n.height-(t.height+10)},n)}function v(n){return s(function(n,t){return n.width-(t.width+10)},function(n,t){return 10},n)}function y(n){return s(function(n,t){return 10},function(n,t){return n.height-(t.height+10)},n)}function w(n){return s(function(n,t){return 10},function(n,t){return 10},n)}function m(n){return s(function(n,t){return(n.width-t.width)/2},function(n,t){return(n.height-t.height)/2},n)}function b(u,i,c,f,a,l,d){return l=l||1,function(n){var t=n.getContext("2d");t.save(),t.font=f,t.globalAlpha=l,t.textBaseline="top";var e=t.measureText(c),r=u(n,e,t),o=i(n,e,t);f.split("px")[0];if(d&&f){t.fillStyle=d;t.fillRect(r-5,o-5,e.width+10,parseInt(f.split("px")[0])+10)}return t.fillStyle=a,t.fillText(c,r,o),t.restore(),n}}function x(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"28px serif",e=5<arguments.length?arguments[5]:void 0;return b(function(n,t){return n.width-(t.width+10)},function(n){return e||n.height-parseInt(t.split("px")[0])-10},n,t,2<arguments.length?arguments[2]:void 0,3<arguments.length?arguments[3]:void 0,4<arguments.length?arguments[4]:void 0)}function O(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"28px serif",e=5<arguments.length?arguments[5]:void 0;return b(function(){return 10},function(n){return e||n.height-parseInt(t.split("px")[0])-10},n,t,2<arguments.length?arguments[2]:void 0,3<arguments.length?arguments[3]:void 0,4<arguments.length?arguments[4]:void 0)}function S(n){var t=5<arguments.length?arguments[5]:void 0;return b(function(n,t){return n.width-(t.width+10)},function(){return t||20},n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"28px serif",2<arguments.length?arguments[2]:void 0,3<arguments.length?arguments[3]:void 0,4<arguments.length?arguments[4]:void 0)}function j(n){var t=5<arguments.length?arguments[5]:void 0;return b(function(){return 10},function(){return t||20},n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"28px serif",2<arguments.length?arguments[2]:void 0,3<arguments.length?arguments[3]:void 0,4<arguments.length?arguments[4]:void 0)}function P(n,t,e,r,o,u){return b(function(n,t,e){return e.textAlign="center",n.width/2},function(n,t,e){return e.textBaseline="middle",n.height/2},n,t,e,r,o)}var I=r,R=o;function A(t,e){return Object.keys(e).forEach(function(n){return t[n]=e[n]}),t}var L,U=(L=[],{pop:function(){return 0===this.length&&L.push(document.createElement("canvas")),L.pop()},get length(){return L.length},release:function(n){n.getContext("2d").clearRect(0,0,n.width,n.height),L.push(n)},clear:function(){L.splice(0,L.length)},get elements(){return L}});e.d(t,"default",function(){return T});var _={init:function(){},type:"image/png",encoderOptions:.92};function C(n){return A(function(n){return A({},n)}(_),n)}function M(n,t,e){var r=n.canvas,o=n.sources,u=function(n,t){var e=1<arguments.length&&void 0!==t?t:{type:"image/png",encoderOptions:.92};return n.toDataURL(e.type,e.encoderOptions)}(r,e);return o.forEach(t.release),u}function T(e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=C(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return r=r||u(e,o.init),{dataUrl:function(t){var n=this.then(function(n){return function(n,t){return n.map(function(n){return d(n,t)})}(n,U)}).then(function(n){return function(n,t){return{canvas:n.apply(null,t),sources:t}}(t,n)}).then(function(n){return M(n,U,{type:o.type,encoderOptions:o.encoderOptions})});return T(e,o,n)},load:function(t,e){var n=this.then(function(n){return u([n].concat(t),e)});return T(t,o,n)},render:function(){var n=this.then(function(n){return u([n])});return T(e,o,n)},blob:function(n){var t=this.dataUrl(n).then(p);return T(e,o,t)},image:function(n){var t=this.dataUrl(n).then(i);return T(e,o,t)},then:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return r.then.apply(r,t)}}}T.image=I,T.text=R,T.destroy=function(){return U.clear()}}],o.c=r,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="",o(o.s=0);function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var e,r});